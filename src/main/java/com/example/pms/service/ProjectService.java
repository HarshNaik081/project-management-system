package com.example.pms.service; import com.example.pms.model.Project; import com.example.pms.model.User; import com.example.pms.repository.ProjectRepository; import com.example.pms.repository.UserRepository; import org.springframework.stereotype.Service; import java.util.Optional;
@Service public class ProjectService { private final ProjectRepository projectRepo; private final UserRepository userRepo; public ProjectService(ProjectRepository projectRepo, UserRepository userRepo){ this.projectRepo=projectRepo; this.userRepo=userRepo; } public Project createProject(Project p){ return projectRepo.save(p);} public Optional<Project> getProject(Long id){ return projectRepo.findById(id);} public void addUserToProject(Long projectId, Long userId){ Project p = projectRepo.findById(projectId).orElseThrow(); User u = userRepo.findById(userId).orElseThrow(); p.getMembers().add(u); projectRepo.save(p);} }